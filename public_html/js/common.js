//Animate CSS + WayPoints javaScript Plugin//Example: $(".element").animated("zoomInUp");//Author URL: http://webdesign-master.ru(function($) {    $.fn.animated = function(inEffect) {        $(this).each(function() {            var ths = $(this);            ths.css("opacity", "0").addClass("animated").waypoint(function(dir) {                if (dir === "down") {                    ths.addClass(inEffect).css("opacity", "1");                };            }, {                offset: "90%"            });        });    };})(jQuery);$(function() {    $(".loader").fadeOut("slow");    $("html").niceScroll({        scrollspeed: 80,        mousescrollstep: 60,        cursorcolor: "#ffb62e",        smoothscroll: true,        zindex: 120,        cursorwidth: "8px",        cursorborderradius: "10px",        cursorborder: "none",    });    var now = new Date();    var tomorrow = new Date(now.getFullYear(), now.getMonth(), now.getDate()+1);    var diff = Math.round((tomorrow - now) / 1000);    var clock;    clock = $('.clock').FlipClock({        clockFace: 'HourlyCounter',        language: 'ru'    });    clock.setTime(diff);    clock.setCountdown(true);    clock.start();    $(".pmask").mask("+7 (999)999-99-99");    $("header").before($("header").clone().addClass("animateIt"));    var win_width = $(window).width();    var offset_top = $(".main_head").height();    var scrollTop = $(window).scrollTop();    $("body").toggleClass("down", (win_width > 768 && scrollTop > offset_top));    $(window).resize(function() {        offset_top = $(".main_head").height();        win_width = $(window).width();        $("body").toggleClass("down", (win_width > 768 && scrollTop > offset_top));    });    $(window).scroll(function() {        scrollTop = $(window).scrollTop();        $("body").toggleClass("down", (win_width > 768 && scrollTop > offset_top));    });    $(".main_head_action").addClass("fadeInUp").css("opacity", "1");    $(".tab_item").click(function(event) {        event.preventDefault();        $(this).parent().addClass("active");        $(this).parent().siblings().removeClass("active");        var tab = $(this).attr("href");        $(".tab").not(tab).css("display", "none");        $(tab).fadeIn();    });    $(".order_product").click(function() {        var th = $(this);        $("#modal_product_name").text(th.attr("data-pname"));        $("#modal_product_title_value").val(th.attr("data-pname"));    });    $(".select_item").click(function() {        var th = $(this);        $(".select_item").removeClass("active");        $(this).addClass("active");        $("#product_code_value").val(th.attr("data-code"));    });    $(".select_item").hide();    $(".free").show();    $(".type_free").click(function() {        $(".select_right_header div").removeClass("active");        $(this).addClass("active");        $(".select_item").hide();        $(".free").show();    });    $(".type_100").click(function() {        $(".select_right_header div").removeClass("active");        $(this).addClass("active");        $(".select_item").hide();        $(".t100").show();    });    $(".type_200").click(function() {        $(".select_right_header div").removeClass("active");        $(this).addClass("active");        $(".select_item").hide();        $(".t200").show();    });    $("#fileremove").click(function() {        $('#upload').wrap('<form>').closest('form').get(0).reset();        $('#upload').unwrap();        $('#fileformlabel').text('Файл не загружен');    });    $("#fileremove2").click(function() {        $('#upload2').wrap('<form>').closest('form').get(0).reset();        $('#upload2').unwrap();        $('#fileformlabel2').text('Файл не загружен');    });    $("#fileremove3").click(function() {        $('#upload3').wrap('<form>').closest('form').get(0).reset();        $('#upload3').unwrap();        $('#fileformlabel3').text('Файл не загружен');    });    $(".menu a, .footer_menu a").click(function () {        var elementClick = $(this).attr("href");        var destination = $(elementClick).offset().top - $('header').height();        if ( $(window).width() < 768 ) {            destination = $(elementClick).offset().top + 50;        }        jQuery("html:not(:animated),body:not(:animated)").animate({scrollTop: destination}, 1000);        return false;    });    change_menu_class();    $(window).resize(function() {        change_menu_class();    });    function change_menu_class() {        if ( $(window).width() < 768 ) {            $(".menu").removeClass("head_menu");            $(".menu").addClass("mobile_menu");            $(".menu").hide();            $(".sandwich").removeClass("active");        } else {            $(".menu").removeClass("mobile_menu");            $(".menu").addClass("head_menu");            $(".menu").show();            $(".sandwich").removeClass("active");        }    }    var menu_list = $(".mobile_menu ul").find("li");    var n = 0;    $(menu_list).each(function() {        jQuery(this).find("a").css('animation-delay', '.'+n+'s');        n++;    });    var menu_top_height = 0;    $(".toggle_mnu").click(function() {        $(".sandwich").toggleClass("active");        $("header.sticky").toggleClass("mobile_menu_active");        menu_top_height = $(window).scrollTop();    });    $(".mobile_menu ul a").click(function() {        $(".mobile_menu").fadeOut(600);        $(".sandwich").toggleClass("active");    });    $(".toggle_mnu").click(function() {        if ($(".mobile_menu").is(":visible")) {            $(".mobile_menu").fadeOut(600);            $(".mobile_menu li a").removeClass("fadeInUp animated");        } else {            $(".mobile_menu").fadeIn(600);            $(".mobile_menu li a").addClass("fadeInUp animated");        };    });    $("form").submit(function() {        var ref = $(this).find("[required]");        var validforma = true;        $(ref).each(function(){            if ( $(this).val() == '' ) {                validforma = false;                $(this).focus();                return false;            }        });        if (validforma == true) {            var th = $(this);            var formData = new FormData($(this)[0]);            var xhr = new XMLHttpRequest();            xhr.open("POST", "send.php");            xhr.onreadystatechange = function() {                if (xhr.readyState == 4) {                    if(xhr.status == 200) {                        data = xhr.responseText;                        console.log(data);                        setTimeout(function() {                            th.trigger("reset");                            $(".remodal-close").click();                            $("#thank-modal").remodal().open();                        }, 1000);                    }                }            };            xhr.send(formData);        }        return false;    });    mapDetect();    $(window).resize(function() {        mapDetect();    });    function mapDetect() {        if ( $(window).width() < 992 ) {            $(".map_content").css("left", ($(window).width() - 720)/2);        } else if ( $(window).width() < 1200 ) {            $(".map_content").css("left", ($(window).width() - 940)/2);        } else {            $(".map_content").css("left", ($(window).width() - 1140)/2);        }    };    $(".animation_1").animated("fadeIn");    $(".animation_2").animated("fadeInLeft");    $(".animation_3").animated("fadeInRight");    $(".animation_4").animated("zoomIn");    $(".animation_5").animated("fadeInUp");    $(".animation_6").animated("tada");    $(".animation_7").animated("flash");});function getName (str) {    if (str.lastIndexOf('\\')){        var i = str.lastIndexOf('\\')+1;    }    else{        var i = str.lastIndexOf('/')+1;    }    var filename = str.slice(i);    var uploaded = document.getElementById("fileformlabel");    uploaded.innerHTML = filename;}function getName2 (str) {    if (str.lastIndexOf('\\')){        var i = str.lastIndexOf('\\')+1;    }    else{        var i = str.lastIndexOf('/')+1;    }    var filename = str.slice(i);    var uploaded = document.getElementById("fileformlabel2");    uploaded.innerHTML = filename;}function getName3 (str) {    if (str.lastIndexOf('\\')){        var i = str.lastIndexOf('\\')+1;    }    else{        var i = str.lastIndexOf('/')+1;    }    var filename = str.slice(i);    var uploaded = document.getElementById("fileformlabel3");    uploaded.innerHTML = filename;}